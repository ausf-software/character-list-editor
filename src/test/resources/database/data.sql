-- Очистка таблиц (с учётом зависимостей)
DELETE FROM character_backups;
DELETE FROM character_tags;
DELETE FROM character_package;
DELETE FROM tags;
DELETE FROM packages;
DELETE FROM characters;

-- Сброс счётчиков автоинкремента
DELETE FROM sqlite_sequence;

-- ==================== Персонажи ====================
INSERT INTO characters (id, name, campaign, last_opened, sheet_path) VALUES
(1, 'Арагорн', 'Властелин Колец', '2026-02-24 15:30:00', 'characters/aragorn.pdf'),
(2, 'Гендальф', 'Властелин Колец', '2026-02-23 10:15:00', 'characters/gandalf.pdf'),
(3, 'Леголас', 'Властелин Колец', '2026-02-22 18:45:00', 'characters/legolas.pdf'),
(4, 'Гимли', 'Властелин Колец', '2026-02-21 09:20:00', 'characters/gimli.pdf'),
(5, 'Фродо', 'Властелин Колец', '2026-02-20 14:10:00', 'characters/frodo.pdf'),
(6, 'Дарт Вейдер', 'Звездные Войны', '2026-02-24 08:30:00', 'characters/vader.pdf'),
(7, 'Люк Скайуокер', 'Звездные Войны', '2026-02-23 16:40:00', 'characters/luke.pdf'),
(8, 'Принцесса Лея', 'Звездные Войны', '2026-02-22 11:25:00', 'characters/leia.pdf'),
(9, 'Хан Соло', 'Звездные Войны', '2026-02-21 13:15:00', 'characters/han.pdf'),
(10, 'Йода', 'Звездные Войны', '2026-02-20 19:50:00', 'characters/yoda.pdf'),
(11, 'Геральт', 'Ведьмак', '2026-02-24 12:00:00', 'characters/geralt.pdf'),
(12, 'Йеннифэр', 'Ведьмак', '2026-02-23 14:30:00', 'characters/yennefer.pdf'),
(13, 'Цири', 'Ведьмак', '2026-02-22 10:45:00', 'characters/ciri.pdf'),
(14, 'Лютик', 'Ведьмак', '2026-02-21 17:20:00', 'characters/dandelion.pdf'),
(15, 'Трисс', 'Ведьмак', '2026-02-20 09:10:00', 'characters/triss.pdf');

-- ==================== Пакеты ====================
INSERT INTO packages (id, name, description, file_path, version) VALUES
(1, 'Базовые правила D&D 5e', 'Основные правила для игры в подземелья и драконы', 'packages/dnd_basic.pdf', '5.1'),
(2, 'Расширенные классы D&D', 'Описание всех классов для D&D', 'packages/classes.pdf', '2.0'),
(3, 'Расы D&D', 'Описание всех рас', 'packages/races.pdf', '1.5'),
(4, 'Книга заклинаний D&D', 'Полный список заклинаний', 'packages/spells.pdf', '3.2'),
(5, 'Магические предметы D&D', 'Каталог магических предметов', 'packages/magic_items.pdf', '2.1'),
(6, 'Бестиарий D&D', 'Справочник монстров', 'packages/bestiaries.pdf', '4.0'),
(7, 'Космические сражения', 'Для кампаний в космосе', 'packages/space_combat.pdf', '1.0'),
(8, 'Система Силы', 'Правила использования Силы', 'packages/force_system.pdf', '2.3'),
(9, 'Джедайские традиции', 'Ордена и традиции джедаев', 'packages/jedi_traditions.pdf', '1.2'),
(10, 'Магия Ведьмака', 'Специальные правила магии для Ведьмака', 'packages/witcher_magic.pdf', '1.0');

-- ==================== Теги ====================
INSERT INTO tags (id, name, color) VALUES
(1, 'Главный герой', -65536),        -- RED
(2, 'Злодей', -16777216),            -- BLACK
(3, 'Маг', -16776961),                -- BLUE
(4, 'Воин', -23296),                  -- ORANGE
(5, 'Эльф', -16711936),               -- GREEN
(6, 'Гном', -16181),                  -- PINK
(7, 'Хоббит', -2105376),              -- LIGHT_GRAY
(8, 'Человек', -14336),               -- более светлый красный
(9, 'Джедай', -16711936),              -- GREEN
(10, 'Ситх', -65536),                  -- RED
(11, 'Контрабандист', -23296),         -- ORANGE
(12, 'Принцесса', -16181),             -- PINK
(13, 'Ведьмак (персонаж)', -14336),    -- RED
(14, 'Чародейка', -16776961),          -- BLUE
(15, 'Бард', -65281),                  -- MAGENTA
(16, 'Избранная', -16711681),          -- CYAN
(17, 'Властелин колец', -12303292),    -- DARK_GRAY
(18, 'Звездные войны', -14336),        -- RED
(19, 'Ведьмак (кампания)', -16711936); -- GREEN

-- ==================== Связи персонаж-тег ====================
INSERT INTO character_tags (character_id, tag_id) VALUES
-- Арагорн
(1, 1), (1, 4), (1, 8), (1, 17),
-- Гендальф
(2, 3), (2, 8), (2, 17),
-- Леголас
(3, 5), (3, 17),
-- Гимли
(4, 6), (4, 17),
-- Фродо
(5, 1), (5, 7), (5, 17),
-- Дарт Вейдер
(6, 2), (6, 10), (6, 8), (6, 18),
-- Люк Скайуокер
(7, 1), (7, 9), (7, 8), (7, 18),
-- Принцесса Лея
(8, 12), (8, 8), (8, 18),
-- Хан Соло
(9, 11), (9, 8), (9, 18),
-- Йода
(10, 3), (10, 9), (10, 18),
-- Геральт
(11, 1), (11, 13), (11, 19),
-- Йеннифэр
(12, 14), (12, 8), (12, 19),
-- Цири
(13, 1), (13, 16), (13, 8), (13, 19),
-- Лютик
(14, 15), (14, 8), (14, 19),
-- Трисс
(15, 14), (15, 8), (15, 19);

-- ==================== Связи персонаж-пакет ====================
INSERT INTO character_package (character_id, package_id) VALUES
-- Арагорн
(1, 1), (1, 2), (1, 3),
-- Гендальф
(2, 1), (2, 4), (2, 5), (2, 6),
-- Леголас
(3, 1), (3, 2), (3, 3),
-- Гимли
(4, 1), (4, 2), (4, 6),
-- Фродо
(5, 1), (5, 3), (5, 5),
-- Дарт Вейдер
(6, 7), (6, 8), (6, 9),
-- Люк Скайуокер
(7, 7), (7, 8), (7, 9),
-- Принцесса Лея
(8, 7), (8, 9),
-- Хан Соло
(9, 7), (9, 9),
-- Йода
(10, 7), (10, 8), (10, 9),
-- Геральт
(11, 1), (11, 2), (11, 4), (11, 10),
-- Йеннифэр
(12, 1), (12, 4), (12, 5), (12, 10),
-- Цири
(13, 1), (13, 2), (13, 4), (13, 10),
-- Лютик
(14, 1), (14, 2), (14, 10),
-- Трисс
(15, 1), (15, 4), (15, 5), (15, 10);

-- ==================== Бэкапы ====================
INSERT INTO character_backups (character_id, backup_path, backup_date) VALUES
(1, 'backups/aragorn_20260224.zip', '2026-02-24 15:35:00'),
(1, 'backups/aragorn_20260223.zip', '2026-02-23 10:20:00'),
(2, 'backups/gandalf_20260223.zip', '2026-02-23 10:20:00'),
(3, 'backups/legolas_20260222.zip', '2026-02-22 18:50:00'),
(4, 'backups/gimli_20260221.zip', '2026-02-21 09:25:00'),
(5, 'backups/frodo_20260220.zip', '2026-02-20 14:15:00'),
(6, 'backups/vader_20260224.zip', '2026-02-24 08:35:00'),
(6, 'backups/vader_20260223.zip', '2026-02-23 16:45:00'),
(7, 'backups/luke_20260223.zip', '2026-02-23 16:45:00'),
(8, 'backups/leia_20260222.zip', '2026-02-22 11:30:00'),
(9, 'backups/han_20260221.zip', '2026-02-21 13:20:00'),
(10, 'backups/yoda_20260220.zip', '2026-02-20 19:55:00'),
(11, 'backups/geralt_20260224.zip', '2026-02-24 12:05:00'),
(11, 'backups/geralt_20260223.zip', '2026-02-23 14:35:00'),
(12, 'backups/yennefer_20260223.zip', '2026-02-23 14:35:00'),
(13, 'backups/ciri_20260222.zip', '2026-02-22 10:50:00'),
(14, 'backups/dandelion_20260221.zip', '2026-02-21 17:25:00'),
(15, 'backups/triss_20260220.zip', '2026-02-20 09:15:00');

-- ==================== Проверка (опционально) ====================
SELECT 'Персонажи:' as table_name, COUNT(*) as count FROM characters
UNION ALL
SELECT 'Пакеты:', COUNT(*) FROM packages
UNION ALL
SELECT 'Теги:', COUNT(*) FROM tags
UNION ALL
SELECT 'Связи персонаж-тег:', COUNT(*) FROM character_tags
UNION ALL
SELECT 'Связи персонаж-пакет:', COUNT(*) FROM character_package
UNION ALL
SELECT 'Бэкапы:', COUNT(*) FROM character_backups;